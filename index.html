<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Quiz BEMA Education</title>
  <link rel="stylesheet" href="style.css">

  <!-- Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-database.js"></script>
  <script>
    // Substitua pelos dados do seu projeto Firebase
    const firebaseConfig = {
      apiKey: "SEU_API_KEY",
      authDomain: "SEU_AUTH_DOMAIN",
      databaseURL: "SEU_DATABASE_URL",
      projectId: "SEU_PROJECT_ID",
      storageBucket: "SEU_STORAGE_BUCKET",
      messagingSenderId: "SEU_MESSAGING_SENDER_ID",
      appId: "SEU_APP_ID"
    };
    const app = firebase.initializeApp(firebaseConfig);
    const db = firebase.database();
  </script>
</head>
<body>
  <main class="container">
    <!-- Logo -->
    <img src="bema_logo.png" alt="Logo BEMA" class="logo">

    <!-- Título -->
    <h1>Quiz de Educação Clássica Cristã</h1>

    <!-- Formulário de nome e e‑mail -->
    <form id="user-form" class="form">
      <label for="name">Nome</label>
      <input type="text" id="name" required>
      <label for="email">E‑mail</label>
      <input type="email" id="email" required>
      <button type="button" id="start-quiz">Começar quiz</button>
    </form>

    <!-- Quiz (escondido até o form ser enviado) -->
    <section id="quiz-container" class="quiz" hidden>
      <div id="question-area" class="question"></div>

      <div class="progress">
        <div class="progress-bar" id="progress-bar"></div>
      </div>

      <div id="answers" class="answers"></div>

      <button id="next-button">Próxima</button>

      <div id="result" class="result"></div>
    </section>
  </main>

  <!-- Sua lógica de quiz -->
  <script src="quiz.js"></script>

  <script>
    // Integra o form com o início do quiz e grava no Firebase
    const form = document.getElementById('user-form');
    const startBtn = document.getElementById('start-quiz');
    const quizSection = document.getElementById('quiz-container');

    startBtn.addEventListener('click', () => {
      const nome = document.getElementById('name').value.trim();
      const email = document.getElementById('email').value.trim();
      if (!nome || !email) {
        alert('Preencha nome e e‑mail');
        return;
      }
      const ref = db.ref('quizzes/usuarios').push();
      ref.set({ nome, email, timestamp: Date.now() })
        .then(() => {
          form.hidden = true;
          quizSection.hidden = false;
          iniciarQuiz(); // chama sua função existente
        })
        .catch(err => {
          console.error(err);
          alert('Erro ao salvar dados. Tente novamente.');
        });
    });
  </script>
</body>
</html>
